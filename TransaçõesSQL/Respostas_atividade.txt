1. O que √© uma transa√ß√£o?
Uma transa√ß√£o √© uma unidade l√≥gica de trabalho no banco de dados que agrupa uma ou mais opera√ß√µes (como INSERT, UPDATE, DELETE) que devem ser executadas como um todo.
O objetivo √© garantir a integridade dos dados: ou todas as opera√ß√µes s√£o conclu√≠das com sucesso, ou nenhuma √© aplicada, mantendo o banco em um estado consistente.

2. Qual √© o significado da sigla ACID?

A sigla ACID representa os quatro princ√≠pios fundamentais das transa√ß√µes em bancos de dados:

Atomicidade:	Todas as opera√ß√µes da transa√ß√£o devem ser conclu√≠das. Se uma falhar, tudo √© desfeito.
Consist√™ncia:	A transa√ß√£o deve manter o banco em um estado v√°lido, respeitando regras e restri√ß√µes.
Isolamento:	Transa√ß√µes n√£o devem interferir entre si. Deve parecer que cada uma foi executada sozinha.
Durabilidade:	Ap√≥s o COMMIT, as altera√ß√µes s√£o permanentes, mesmo em caso de falhas no sistema.

3. Explique o funcionamento dos seguintes comandos:

- BEGIN ou BEGIN TRANSACTION
Inicia uma nova transa√ß√£o.

- SAVEPOINT: Define um ponto de salvamento dentro da transa√ß√£o, que pode ser usado para reverter parcialmente a transa√ß√£o.
SAVEPOINT etapa1;

- COMMIT: Finaliza a transa√ß√£o e confirma todas as altera√ß√µes feitas no banco.

- ROLLBACK: Cancela toda a transa√ß√£o, desfazendo todas as opera√ß√µes.

- ROLLBACK TO nome_do_savepoint
Reverte apenas at√© o ponto salvo com SAVEPOINT, preservando o restante.

ROLLBACK TO etapa1;

4. Quais s√£o os problemas de isolamento que podem acontecer quando existem transa√ß√µes concorrentes?

- Dirty Read (Leitura Suja)
Uma transa√ß√£o l√™ dados modificados por outra que ainda n√£o foi comitada. Isso gera inconsist√™ncia se a outra transa√ß√£o fizer ROLLBACK.

2. Nonrepeatable Read (Leitura N√£o Repet√≠vel)
A mesma consulta feita duas vezes durante uma transa√ß√£o retorna resultados diferentes, porque outra transa√ß√£o comitou altera√ß√µes entre as leituras.

3. Phantom Read (Leitura Fantasma)
Uma transa√ß√£o l√™ um conjunto de linhas que muda ap√≥s outra transa√ß√£o inserir novos registros e comitar.

5. Quais s√£o os n√≠veis de isolamento que podem ser utilizados em uma transa√ß√£o? Explique cada um deles.
N√≠vel	Dirty Read	Nonrepeatable Read	Phantom Read	Explica√ß√£o
Read Uncommitted	‚úÖ Sim	‚úÖ Sim	‚úÖ Sim	Leitura de dados n√£o comitados. Mais r√°pido, por√©m inseguro. N√£o √© suportado pelo PostgreSQL.
Read Committed (padr√£o PostgreSQL)	‚ùå N√£o	‚úÖ Sim	‚úÖ Sim	L√™ apenas dados comitados. Evita leituras sujas.
Repeatable Read	‚ùå N√£o	‚ùå N√£o	‚úÖ Sim	Bloqueia leituras repetidas de dados alterados, mas permite leitura de registros novos.
Serializable	‚ùå N√£o	‚ùå N√£o	‚ùå N√£o	N√≠vel mais seguro. Garante isolamento total, como se as transa√ß√µes fossem serializadas uma ap√≥s a outra.

6. Como configurar o n√≠vel de isolamento de uma transa√ß√£o? D√™ exemplo.
No PostgreSQL (e em outros SGBDs), voc√™ pode definir o n√≠vel de isolamento logo ap√≥s o BEGIN ou com o comando SET TRANSACTION.

üî∏ Exemplo com SET TRANSACTION:
sql
Copiar
Editar
BEGIN;
SET TRANSACTION ISOLATION LEVEL REPEATABLE READ;
SELECT * FROM contas WHERE id = 1;
-- outros comandos
COMMIT;
